<UserControl x:Class="VapourSynthPortable.Controls.CurvesControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Name="CurvesRoot"
             MinWidth="200" MinHeight="200">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Channel Selector -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,8">
            <RadioButton Content="RGB" x:Name="RgbRadio" GroupName="CurveChannel"
                         IsChecked="True" Checked="Channel_Changed"
                         Foreground="#AAA" Margin="0,0,12,0"/>
            <RadioButton Content="R" x:Name="RedRadio" GroupName="CurveChannel"
                         Checked="Channel_Changed"
                         Foreground="#FF6666" Margin="0,0,8,0"/>
            <RadioButton Content="G" x:Name="GreenRadio" GroupName="CurveChannel"
                         Checked="Channel_Changed"
                         Foreground="#66FF66" Margin="0,0,8,0"/>
            <RadioButton Content="B" x:Name="BlueRadio" GroupName="CurveChannel"
                         Checked="Channel_Changed"
                         Foreground="#6688FF" Margin="0,0,12,0"/>
            <Button Content="Reset" Click="Reset_Click"
                    Background="#333" Foreground="#AAA" BorderBrush="#444"
                    Padding="8,2" FontSize="10"/>
        </StackPanel>

        <!-- Curves Canvas -->
        <Border Grid.Row="1" Background="#0A0A0A" CornerRadius="4"
                BorderBrush="#333" BorderThickness="1">
            <Grid>
                <!-- Background histogram -->
                <Canvas x:Name="HistogramCanvas" ClipToBounds="True"/>

                <!-- Grid lines -->
                <Canvas x:Name="GridCanvas" ClipToBounds="True"/>

                <!-- Main curves canvas -->
                <Canvas x:Name="CurvesCanvas" ClipToBounds="True"
                        MouseLeftButtonDown="Canvas_MouseLeftButtonDown"
                        MouseMove="Canvas_MouseMove"
                        MouseLeftButtonUp="Canvas_MouseLeftButtonUp"
                        MouseRightButtonDown="Canvas_MouseRightButtonDown"
                        SizeChanged="CurvesCanvas_SizeChanged"
                        Background="Transparent"/>
            </Grid>
        </Border>

        <!-- Input/Output values -->
        <Grid Grid.Row="2" Margin="0,8,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Orientation="Horizontal">
                <TextBlock Text="In:" Foreground="#888" FontSize="10" VerticalAlignment="Center"/>
                <TextBlock x:Name="InputValueText" Text="--" Foreground="#AAA" FontSize="10"
                           VerticalAlignment="Center" Margin="4,0,0,0"/>
            </StackPanel>

            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                <TextBlock Text="Out:" Foreground="#888" FontSize="10" VerticalAlignment="Center"/>
                <TextBlock x:Name="OutputValueText" Text="--" Foreground="#AAA" FontSize="10"
                           VerticalAlignment="Center" Margin="4,0,0,0"/>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>
