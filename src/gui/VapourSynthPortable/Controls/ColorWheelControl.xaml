<UserControl x:Class="VapourSynthPortable.Controls.ColorWheelControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="140" Height="170">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock x:Name="TitleText" Grid.Row="0" Text="Lift"
                   HorizontalAlignment="Center" Foreground="#DDD"
                   FontSize="11" FontWeight="SemiBold" Margin="0,0,0,8"/>

        <!-- Color Wheel -->
        <Grid Grid.Row="1" Width="120" Height="120">
            <Canvas x:Name="WheelCanvas"
                    MouseLeftButtonDown="WheelCanvas_MouseLeftButtonDown"
                    MouseLeftButtonUp="WheelCanvas_MouseLeftButtonUp"
                    MouseMove="WheelCanvas_MouseMove"
                    MouseLeave="WheelCanvas_MouseLeave"
                    ToolTip="Drag to select color tint">

                <!-- Wheel Background (drawn in code) -->
                <Ellipse x:Name="WheelEllipse" Width="120" Height="120"
                         StrokeThickness="2" Stroke="#444" Cursor="Hand">
                    <Ellipse.Fill>
                        <RadialGradientBrush>
                            <GradientStop Color="#333" Offset="0"/>
                            <GradientStop Color="#222" Offset="1"/>
                        </RadialGradientBrush>
                    </Ellipse.Fill>
                </Ellipse>

                <!-- Color gradient overlay -->
                <Ellipse x:Name="ColorOverlay" Width="116" Height="116"
                         Canvas.Left="2" Canvas.Top="2" Opacity="0.7" IsHitTestVisible="False"/>

                <!-- Center crosshair -->
                <Line X1="60" Y1="55" X2="60" Y2="65" Stroke="#888" StrokeThickness="2"/>
                <Line X1="55" Y1="60" X2="65" Y2="60" Stroke="#888" StrokeThickness="2"/>

                <!-- Position indicator -->
                <Ellipse x:Name="PositionIndicator" Width="14" Height="14"
                         Fill="#FFF" Stroke="#000" StrokeThickness="2"
                         Canvas.Left="53" Canvas.Top="53" IsHitTestVisible="False">
                    <Ellipse.Effect>
                        <DropShadowEffect BlurRadius="4" ShadowDepth="1" Opacity="0.5"/>
                    </Ellipse.Effect>
                </Ellipse>
            </Canvas>
        </Grid>

        <!-- Master Slider -->
        <Grid Grid.Row="2" Margin="5,8,5,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="35"/>
            </Grid.ColumnDefinitions>

            <Slider x:Name="MasterSlider" Grid.Column="0"
                    Minimum="-1" Maximum="1" Value="0"
                    VerticalAlignment="Center"
                    ValueChanged="MasterSlider_ValueChanged"
                    ToolTip="Adjust overall brightness (-1 to +1)"/>
            <TextBlock x:Name="MasterValueText" Grid.Column="1"
                       Text="0.00" Foreground="#CCC" FontSize="10"
                       HorizontalAlignment="Right" VerticalAlignment="Center"/>
        </Grid>
    </Grid>
</UserControl>
